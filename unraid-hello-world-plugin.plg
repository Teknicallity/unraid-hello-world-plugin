<?xml version="1.0" standalone="yes"?>
<!DOCTYPE PLUGIN [
  <!ENTITY name       "unraid-hello-world-plugin">
  <!ENTITY author     "Teknicallity">
  <!ENTITY version    "2024.12.28">
  <!ENTITY gitURL     "https://github.com/&author;/&name;/raw/main">
  <!ENTITY pluginURL  "https://raw.githubusercontent.com/&author;/&name;/main/&name;.plg">
  <!ENTITY launch     "Tools/unraid-hello-world-plugin">
  <!ENTITY plugin     "/boot/config/plugins/&name;">
  <!ENTITY emhttp     "/usr/local/emhttp/plugins/&name;">
  <!ENTITY md5        "7816f12a934522772ae31a4ebea28719">
]>
<PLUGIN name="&name;" 
        author="&author;" 
        version="&version;" 
        launch="&launch;" 
        pluginURL="&pluginURL;" 
        min="6.9.0" 
        support="http://forums.unraid.net/index.php?topic=36543.0">

<CHANGES>
## &name;

### 2014.11.28
- PHP 8.2 corrections

### 2014.11.27
- initial release for unRAID v6

</CHANGES>

<!--Remove previous tarballs-->
<FILE Run="/bin/bash">
<INLINE>
echo "'&gitURL;/archive/&name;-&version;.txz'"
rm -f $(ls /boot/config/plugins/&name;/&name;-*.txz 2&gt;/dev/null | grep -v '&version;')
echo "remove old tarballs. Version: &version;"
</INLINE>
</FILE>

<!--The install script.-->
<FILE Name="/boot/config/plugins/&name;/&name;-&version;.txz" Run="upgradepkg --install-new">
<URL>&gitURL;/archive/&name;-&version;.txz</URL>
<MD5>&md5;</MD5>
</FILE>

<!--create plugin README.md file-->
<FILE Name="&emhttp;/README.md">
<INLINE>
**NTFS-3G support**

All this does is install the ntfs-3g package.
</INLINE>
</FILE>

<!--Do something?-->
<FILE Run="/bin/bash">
<INLINE>
echo "enabled"

#Check if Kernel Module is already enabled

echo
echo "----Installation of Intel GPU TOP complete-----"
</INLINE>
</FILE>

<!--The 'remove' script.-->
<FILE Run="/bin/bash" Method="remove">
<INLINE>
echo "-----------------------------------------------"
echo "----------Uninstalling Intel GPU TOP-----------"
echo "-----------------------------------------------"
# Remove plugin related files
removepkg intel.gpu.top-&version;
rm -rf /usr/local/emhttp/plugins/&name;
rm -rf &plugin;
echo
echo "-----------------------------------------------"
echo "---Uninstallation of Intel GPU TOP complete!---"
echo "-----------------------------------------------"
echo
</INLINE>
</FILE>
</PLUGIN>
